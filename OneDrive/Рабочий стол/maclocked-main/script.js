const scheduleData = {
    "9A": {
        monday: {
            date: "15 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ñ„Ğ¾Ñ€Ğ¼ÑƒĞ»Ñ‹ Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´Ğ¸ Ñ‚Ñ€ĞµÑƒĞ³Ğ¾Ğ»ÑŒĞ½Ğ¸ĞºĞ° Ğº Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¾Ñ‡Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ.",
            lessons: [
                { number: 1, subject: "ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "302" },
                { number: 2, subject: "Ğ ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞŸĞµÑ‚Ñ€Ğ¾Ğ²", time: "9:25 â€“ 10:10", room: "205" },
                { number: 3, subject: "Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ", teacher: "Ğ¡Ğ¼Ğ¸Ñ€Ğ½Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "411" },
                { number: 4, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞšÑƒĞ·Ğ½ĞµÑ†Ğ¾Ğ²", time: "11:25 â€“ 12:10", room: "503" },
                { number: 5, subject: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞšĞ¸Ğ¼", time: "12:30 â€“ 13:15", room: "210" }
            ]
        },
        tuesday: {
            date: "16 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ÑŒÑ‚Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñƒ Ğ¿Ğ¾ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞµ Ğ´Ğ»Ñ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ.",
            lessons: [
                { number: 1, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ’Ğ¾Ğ»ĞºĞ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "IT-1" },
                { number: 2, subject: "Ğ¥Ğ¸Ğ¼Ğ¸Ñ", teacher: "ĞĞ½Ğ´Ñ€ĞµĞµĞ²Ğ°", time: "9:25 â€“ 10:10", room: "Lab-2" },
                { number: 3, subject: "ĞĞ»Ğ³ĞµĞ±Ñ€Ğ°", teacher: "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "302" },
                { number: 4, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ¡Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²Ğ°", time: "11:25 â€“ 12:10", room: "Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ·Ğ°Ğ»" }
            ]
        },
        wednesday: {
            date: "17 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ¡Ğ´Ğ°Ñ‡Ğ° ĞºĞ¾Ğ½ÑĞ¿ĞµĞºÑ‚Ğ¾Ğ² Ğ¿Ğ¾ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹.",
            lessons: [
                { number: 1, subject: "Ğ›Ğ¸Ñ‚ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°", teacher: "ĞŸĞµÑ‚Ñ€Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "205" },
                { number: 2, subject: "Ğ‘Ğ¸Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ", teacher: "ĞœĞ¾Ñ€Ğ¾Ğ·Ğ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "408" },
                { number: 3, subject: "Ğ“ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ", teacher: "ĞĞ¾Ğ²Ğ¸ĞºĞ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "406" },
                { number: 4, subject: "ĞĞ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ½Ğ¸Ğµ", teacher: "Ğ‘Ğ¾Ñ€Ğ¸ÑĞ¾Ğ²", time: "11:25 â€“ 12:10", room: "407" },
                { number: 5, subject: "ĞšĞ»Ğ°ÑÑĞ½Ñ‹Ğ¹ Ñ‡Ğ°Ñ", teacher: "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°", time: "12:30 â€“ 13:15", room: "302" }
            ]
        },
        thursday: {
            date: "18 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ’Ğ¾Ğ·ÑŒĞ¼Ğ¸Ñ‚Ğµ Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ñ‹ Ğ½Ğ° ÑƒÑ€Ğ¾Ğº Ñ…Ğ¸Ğ¼Ğ¸Ğ¸.",
            lessons: [
                { number: 1, subject: "ĞĞ»Ğ³ĞµĞ±Ñ€Ğ°", teacher: "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "302" },
                { number: 2, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞšÑƒĞ·Ğ½ĞµÑ†Ğ¾Ğ²", time: "9:25 â€“ 10:10", room: "503" },
                { number: 3, subject: "Ğ¥Ğ¸Ğ¼Ğ¸Ñ", teacher: "ĞĞ½Ğ´Ñ€ĞµĞµĞ²Ğ°", time: "10:30 â€“ 11:15", room: "Lab-2" },
                { number: 4, subject: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞšĞ¸Ğ¼", time: "11:25 â€“ 12:10", room: "210" }
            ]
        },
        friday: {
            date: "19 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ° Ğ´Ğ»Ñ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ñ Ğ½Ğ° ÑÑ‚Ğ°Ğ´Ğ¸Ğ¾Ğ½Ğµ.",
            lessons: [
                { number: 1, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ’Ğ¾Ğ»ĞºĞ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "IT-1" },
                { number: 2, subject: "Ğ“ĞµĞ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ", teacher: "Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "302" },
                { number: 3, subject: "ĞœÑƒĞ·Ñ‹ĞºĞ°", teacher: "ĞÑ€Ğ»Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "ĞĞºÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ·Ğ°Ğ»" },
                { number: 4, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ¡Ğ¾ĞºĞ¾Ğ»Ğ¾Ğ²Ğ°", time: "11:25 â€“ 12:10", room: "Ğ¡Ñ‚Ğ°Ğ´Ğ¸Ğ¾Ğ½" }
            ]
        }
    },
    "10B": {
        monday: {
            date: "15 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¸Ğ¼ÑÑ Ğº Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ² Ğ¿Ğ¾ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸.",
            lessons: [
                { number: 1, subject: "Ğ“ĞµĞ¾Ğ¼ĞµÑ‚Ñ€Ğ¸Ñ", teacher: "Ğ¡ĞµĞ¼ĞµĞ½Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "305" },
                { number: 2, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞĞ¸ĞºĞ¸Ñ‚Ğ¸Ğ½", time: "9:25 â€“ 10:10", room: "506" },
                { number: 3, subject: "Ğ ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "Ğ—Ğ°Ğ¹Ñ†ĞµĞ²Ğ°", time: "10:30 â€“ 11:15", room: "204" },
                { number: 4, subject: "Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ", teacher: "Ğ“Ñ€Ğ¾Ğ¼Ğ¾Ğ²Ğ°", time: "11:25 â€“ 12:10", room: "410" }
            ]
        },
        tuesday: {
            date: "16 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞĞµ Ğ·Ğ°Ğ±ÑƒĞ´ÑŒÑ‚Ğµ ÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ğ²Ğ½ÑƒÑ Ñ„Ğ¾Ñ€Ğ¼Ñƒ Ğ´Ğ»Ñ Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ Ğ¿Ğ¾Ğ»Ğ¾Ğ²Ğ¸Ğ½Ñ‹ Ğ´Ğ½Ñ.",
            lessons: [
                { number: 1, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ¤ĞµĞ´Ğ¾Ñ€Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "IT-2" },
                { number: 2, subject: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞšĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "214" },
                { number: 3, subject: "ĞĞ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ½Ğ¸Ğµ", teacher: "Ğ“Ñ€Ğ¾Ğ¼Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "410" },
                { number: 4, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ•Ğ³Ğ¾Ñ€Ğ¾Ğ²Ğ°", time: "11:25 â€“ 12:10", room: "Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ·Ğ°Ğ»" }
            ]
        },
        wednesday: {
            date: "17 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ñ‹ Ğ¿ĞµÑ€ĞµĞ´ ÑƒÑ€Ğ¾ĞºĞ¾Ğ¼ Ñ…Ğ¸Ğ¼Ğ¸Ğ¸.",
            lessons: [
                { number: 1, subject: "ĞĞ»Ğ³ĞµĞ±Ñ€Ğ°", teacher: "Ğ¡ĞµĞ¼ĞµĞ½Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "305" },
                { number: 2, subject: "Ğ›Ğ¸Ñ‚ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°", teacher: "Ğ—Ğ°Ğ¹Ñ†ĞµĞ²Ğ°", time: "9:25 â€“ 10:10", room: "204" },
                { number: 3, subject: "Ğ‘Ğ¸Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ", teacher: "Ğ•Ğ»Ğ¸ÑĞµĞµĞ²Ğ°", time: "10:30 â€“ 11:15", room: "409" },
                { number: 4, subject: "Ğ¥Ğ¸Ğ¼Ğ¸Ñ", teacher: "Ğ¤Ğ¸Ğ»Ğ¸Ğ¿Ğ¿Ğ¾Ğ²Ğ°", time: "11:25 â€“ 12:10", room: "Lab-3" }
            ]
        },
        thursday: {
            date: "18 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚Ğµ Ğ³ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ñ‹ Ğº Ğ¼Ğ¸Ğ½Ğ¸-Ğ²Ğ¸ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğµ.",
            lessons: [
                { number: 1, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞĞ¸ĞºĞ¸Ñ‚Ğ¸Ğ½", time: "8:30 â€“ 9:15", room: "506" },
                { number: 2, subject: "Ğ“ĞµĞ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ", teacher: "Ğ‘ĞµĞ»ÑĞµĞ²Ğ°", time: "9:25 â€“ 10:10", room: "407" },
                { number: 3, subject: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞšĞ¸Ñ€Ğ¸Ğ»Ğ»Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "214" }
            ]
        },
        friday: {
            date: "19 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞĞ° Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞµ Ğ±ÑƒĞ´ĞµÑ‚ ÑĞ°Ğ¼Ğ¾ÑÑ‚Ğ¾ÑÑ‚ĞµĞ»ÑŒĞ½Ğ°Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ğ¿Ğ¾ Ğ»Ğ¾Ğ³Ğ°Ñ€Ğ¸Ñ„Ğ¼Ğ°Ğ¼.",
            lessons: [
                { number: 1, subject: "ĞœĞ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ¡ĞµĞ¼ĞµĞ½Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "305" },
                { number: 2, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ¤ĞµĞ´Ğ¾Ñ€Ğ¾Ğ²", time: "9:25 â€“ 10:10", room: "IT-2" },
                { number: 3, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ•Ğ³Ğ¾Ñ€Ğ¾Ğ²Ğ°", time: "10:30 â€“ 11:15", room: "Ğ¡Ñ‚Ğ°Ğ´Ğ¸Ğ¾Ğ½" }
            ]
        }
    },
    "11G": {
        monday: {
            date: "15 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ·Ğ°Ñ‡ĞµÑ‚Ñƒ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞµ.",
            lessons: [
                { number: 1, subject: "ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ’Ğ»Ğ°ÑĞ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "307" },
                { number: 2, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞšĞ°Ğ±Ğ°Ğ½Ğ¾Ğ²", time: "9:25 â€“ 10:10", room: "508" },
                { number: 3, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ›ĞµĞ±ĞµĞ´ĞµĞ²", time: "10:30 â€“ 11:15", room: "IT-3" },
                { number: 4, subject: "Ğ ÑƒÑÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "Ğ ÑƒĞ´Ğ½ĞµĞ²Ğ°", time: "11:25 â€“ 12:10", room: "203" }
            ]
        },
        tuesday: {
            date: "16 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ÑŒÑ‚Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¿Ğ¾ Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğº Ğ´Ğ¸ÑĞºÑƒÑÑĞ¸Ğ¸.",
            lessons: [
                { number: 1, subject: "ĞĞ½Ğ³Ğ»Ğ¸Ğ¹ÑĞºĞ¸Ğ¹ ÑĞ·Ñ‹Ğº", teacher: "ĞœĞ°ĞºÑĞ¸Ğ¼Ğ¾Ğ²Ğ°", time: "8:30 â€“ 9:15", room: "216" },
                { number: 2, subject: "ĞĞ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾Ğ·Ğ½Ğ°Ğ½Ğ¸Ğµ", teacher: "Ğ“Ğ¾Ğ½Ñ‡Ğ°Ñ€Ğ¾Ğ²", time: "9:25 â€“ 10:10", room: "412" },
                { number: 3, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ ÑĞ·Ğ°Ğ½Ñ†ĞµĞ²", time: "10:30 â€“ 11:15", room: "Ğ¡Ğ¿Ğ¾Ñ€Ñ‚Ğ·Ğ°Ğ»" }
            ]
        },
        wednesday: {
            date: "17 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ’Ğ¾Ğ·ÑŒĞ¼Ğ¸Ñ‚Ğµ Ñ‚ĞµÑ‚Ñ€Ğ°Ğ´Ğ¸ Ğ¿Ğ¾ Ñ…Ğ¸Ğ¼Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ»Ğ°Ğ±Ğ¾Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ½Ğ¾Ğ¹.",
            lessons: [
                { number: 1, subject: "Ğ¥Ğ¸Ğ¼Ğ¸Ñ", teacher: "Ğ¯ĞºĞ¾Ğ²Ğ»ĞµĞ²Ğ°", time: "8:30 â€“ 9:15", room: "Lab-4" },
                { number: 2, subject: "Ğ‘Ğ¸Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ", teacher: "Ğ¡Ğ°Ñ„Ğ¾Ğ½Ğ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "410" },
                { number: 3, subject: "Ğ›Ğ¸Ñ‚ĞµÑ€Ğ°Ñ‚ÑƒÑ€Ğ°", teacher: "Ğ ÑƒĞ´Ğ½ĞµĞ²Ğ°", time: "10:30 â€“ 11:15", room: "203" },
                { number: 4, subject: "Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ", teacher: "Ğ“Ğ¾Ğ½Ñ‡Ğ°Ñ€Ğ¾Ğ²", time: "11:25 â€“ 12:10", room: "412" }
            ]
        },
        thursday: {
            date: "18 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "Ğ‘ÑƒĞ´ĞµÑ‚ ĞºĞ¾Ğ½ÑÑƒĞ»ÑŒÑ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ½Ğ¾Ğ¹ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ¿Ğ¾ÑĞ»Ğµ ÑƒÑ€Ğ¾ĞºĞ°.",
            lessons: [
                { number: 1, subject: "Ğ¤Ğ¸Ğ·Ğ¸ĞºĞ°", teacher: "ĞšĞ°Ğ±Ğ°Ğ½Ğ¾Ğ²", time: "8:30 â€“ 9:15", room: "508" },
                { number: 2, subject: "ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ¼Ğ°Ñ‚ĞµĞ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ’Ğ»Ğ°ÑĞ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "307" },
                { number: 3, subject: "ĞŸÑ€Ğ¾ĞµĞºÑ‚Ğ½Ğ°Ñ Ğ´ĞµÑÑ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ", teacher: "Ğ›ĞµĞ±ĞµĞ´ĞµĞ²", time: "10:30 â€“ 11:15", room: "IT-3" }
            ]
        },
        friday: {
            date: "19 Ğ°Ğ¿Ñ€ĞµĞ»Ñ",
            notes: "ĞĞ° Ğ•Ğ“Ğ­-Ğ¿Ğ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµĞ¼ ÑĞ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‡Ğ°ÑÑ‚Ğ¸ Ğ¡.",
            lessons: [
                { number: 1, subject: "Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞ°", teacher: "Ğ›ĞµĞ±ĞµĞ´ĞµĞ²", time: "8:30 â€“ 9:15", room: "IT-3" },
                { number: 2, subject: "ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğº Ğ•Ğ“Ğ­", teacher: "Ğ’Ğ»Ğ°ÑĞ¾Ğ²Ğ°", time: "9:25 â€“ 10:10", room: "307" },
                { number: 3, subject: "Ğ¤Ğ¸Ğ·ĞºÑƒĞ»ÑŒÑ‚ÑƒÑ€Ğ°", teacher: "Ğ ÑĞ·Ğ°Ğ½Ñ†ĞµĞ²", time: "10:30 â€“ 11:15", room: "Ğ¡Ñ‚Ğ°Ğ´Ğ¸Ğ¾Ğ½" }
            ]
        }
    }
};

const dayLabels = {
    monday: "ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº",
    tuesday: "Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº",
    wednesday: "Ğ¡Ñ€ĞµĞ´Ğ°",
    thursday: "Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³",
    friday: "ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°",
};

const dayOrder = ["monday", "tuesday", "wednesday", "thursday", "friday"];
const weekDayMap = {
    1: "monday",
    2: "tuesday",
    3: "wednesday",
    4: "thursday",
    5: "friday",
};

const scheduleContainer = document.querySelector(".schedule");
const dayButtons = Array.from(document.querySelectorAll(".chip"));
const classSelect = document.getElementById("classSelect");
const searchInput = document.getElementById("searchInput");
const insightTotal = document.getElementById("insight-total");
const insightNext = document.getElementById("insight-next");
const insightNextMeta = document.getElementById("insight-next-meta");
const insightPreference = document.getElementById("insight-preference");

const STORAGE_KEYS = {
    classId: "schedule:selectedClass",
    day: "schedule:selectedDay",
};

const state = {
    selectedDay: "all",
    searchQuery: "",
};

function formatLessonsCount(count) {
    const remainder10 = count % 10;
    const remainder100 = count % 100;

    if (count === 0) {
        return "0 ÑƒÑ€Ğ¾ĞºĞ¾Ğ²";
    }

    if (remainder10 === 1 && remainder100 !== 11) {
        return `${count} ÑƒÑ€Ğ¾Ğº`;
    }

    if (remainder10 >= 2 && remainder10 <= 4 && (remainder100 < 12 || remainder100 > 14)) {
        return `${count} ÑƒÑ€Ğ¾ĞºĞ°`;
    }

    return `${count} ÑƒÑ€Ğ¾ĞºĞ¾Ğ²`;
}

function createLessonItem(lesson) {
    const li = document.createElement("li");
    li.className = "lesson";
    li.innerHTML = `
        <div class="lesson__number">${lesson.number}-Ğ¹ ÑƒÑ€Ğ¾Ğº</div>
        <div class="lesson__subject">${lesson.subject}</div>
        <div class="lesson__details">
            <span aria-label="Ğ’Ñ€ĞµĞ¼Ñ ÑƒÑ€Ğ¾ĞºĞ°">ğŸ•’ ${lesson.time}</span>
            <span aria-label="ĞšĞ°Ğ±Ğ¸Ğ½ĞµÑ‚">ğŸšª ${lesson.room}</span>
            <span aria-label="Ğ£Ñ‡Ğ¸Ñ‚ĞµĞ»ÑŒ">ğŸ‘©â€ğŸ« ${lesson.teacher}</span>
        </div>
    `;
    return li;
}

function createScheduleCard(dayKey, dayData, lessons) {
    const card = document.createElement("article");
    card.className = "schedule-card";
    card.dataset.day = dayKey;
    card.innerHTML = `
        <header class="schedule-card__header">
            <div class="schedule-card__meta">
                <span class="schedule-card__day">${dayLabels[dayKey]}</span>
                <span class="schedule-card__date">${dayData.date}</span>
            </div>
            <span class="schedule-card__badge">${formatLessonsCount(lessons.length)}</span>
        </header>
        <ul class="schedule-card__list"></ul>
    `;

    const list = card.querySelector(".schedule-card__list");
    lessons.forEach((lesson) => {
        list.appendChild(createLessonItem(lesson));
    });

    if (dayData.notes) {
        const note = document.createElement("p");
        note.className = "schedule-card__note";
        note.textContent = dayData.notes;
        card.appendChild(note);
    }

    return card;
}

function renderEmptyState(message, { showReset = false } = {}) {
    const emptyState = document.createElement("div");
    emptyState.className = "empty-state";

    const text = document.createElement("p");
    text.textContent = message;
    emptyState.appendChild(text);

    if (showReset) {
        const resetButton = document.createElement("button");
        resetButton.type = "button";
        resetButton.className = "empty-state__action";
        resetButton.textContent = "Ğ¡Ğ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ¸ÑĞº";
        resetButton.addEventListener("click", () => {
            searchInput.value = "";
            state.searchQuery = "";
            renderSchedule();
            searchInput.focus();
        });
        emptyState.appendChild(resetButton);
    }

    scheduleContainer.appendChild(emptyState);
}

function sortByDayOrder(a, b) {
    return dayOrder.indexOf(a.dayKey) - dayOrder.indexOf(b.dayKey);
}

function getCurrentDayKey() {
    const todayIndex = new Date().getDay();
    return weekDayMap[todayIndex] ?? null;
}

function findPreferredEntry(entries) {
    if (!entries.length) {
        return null;
    }

    const sorted = [...entries].sort(sortByDayOrder);

    if (state.selectedDay !== "all") {
        const match = sorted.find((entry) => entry.dayKey === state.selectedDay);
        if (match) {
            return match;
        }
    }

    const currentDayKey = getCurrentDayKey();

    if (currentDayKey) {
        const currentIndex = sorted.findIndex((entry) => entry.dayKey === currentDayKey);
        if (currentIndex !== -1) {
            return sorted[currentIndex];
        }

        const nextIndex = sorted.findIndex(
            (entry) => dayOrder.indexOf(entry.dayKey) > dayOrder.indexOf(currentDayKey)
        );

        if (nextIndex !== -1) {
            return sorted[nextIndex];
        }
    }

    return sorted[0];
}

function updateInsights(entries) {
    const totalLessons = entries.reduce((sum, entry) => sum + entry.lessons.length, 0);
    insightTotal.textContent = formatLessonsCount(totalLessons);

    const preferenceDayLabel =
        state.selectedDay === "all" ? "Ğ’ÑÑ Ğ½ĞµĞ´ĞµĞ»Ñ" : dayLabels[state.selectedDay];
    insightPreference.textContent = `${classSelect.value} â€¢ ${preferenceDayLabel}`;

    const preferredEntry = findPreferredEntry(entries);

    if (!preferredEntry) {
        insightNext.textContent = "ĞĞµÑ‚ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹";
        insightNextMeta.textContent = state.searchQuery
            ? "ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°."
            : "Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ Ğ¸Ğ»Ğ¸ ĞºĞ»Ğ°ÑÑ.";
        return;
    }

    const [nextLesson] = preferredEntry.lessons;
    insightNext.textContent = nextLesson.subject;
    insightNextMeta.textContent = `${dayLabels[preferredEntry.dayKey]}, ${nextLesson.time} â€¢ ĞºĞ°Ğ±. ${nextLesson.room}`;
}

function updateActiveChip(activeButton) {
    dayButtons.forEach((button) => {
        const isActive = button === activeButton;
        button.classList.toggle("chip--active", isActive);
        button.setAttribute("aria-selected", isActive ? "true" : "false");
        button.setAttribute("tabindex", isActive ? "0" : "-1");
    });
}

function persistPreferences() {
    try {
        localStorage.setItem(STORAGE_KEYS.classId, classSelect.value);
        localStorage.setItem(STORAGE_KEYS.day, state.selectedDay);
    } catch (error) {
        console.warn("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ", error);
    }
}

function loadPreferences() {
    try {
        return {
            classId: localStorage.getItem(STORAGE_KEYS.classId),
            day: localStorage.getItem(STORAGE_KEYS.day),
        };
    } catch (error) {
        console.warn("ĞĞµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑĞ¾Ñ…Ñ€Ğ°Ğ½Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ", error);
        return {};
    }
}

function renderSchedule(selectedDayParam) {
    const selectedClass = classSelect.value;
    const classSchedule = scheduleData[selectedClass];
    const selectedDay = selectedDayParam ?? state.selectedDay;
    state.selectedDay = selectedDay;

    scheduleContainer.innerHTML = "";

    const searchQuery = state.searchQuery.toLowerCase();
    const entries = [];

    Object.entries(classSchedule).forEach(([dayKey, dayData]) => {
        if (selectedDay !== "all" && dayKey !== selectedDay) {
            return;
        }

        const lessons = dayData.lessons.filter((lesson) => {
            if (!searchQuery) {
                return true;
            }

            const haystack = `${lesson.subject} ${lesson.teacher}`.toLowerCase();
            return haystack.includes(searchQuery);
        });

        if (!lessons.length) {
            return;
        }

        const card = createScheduleCard(dayKey, dayData, lessons);
        entries.push({ dayKey, dayData, lessons });
        scheduleContainer.appendChild(card);
    });

    if (!entries.length) {
        const message = searchQuery.length
            ? `ĞŸĞ¾ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑÑƒ Â«${searchInput.value}Â» Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ¾.`
            : "ĞĞµÑ‚ Ğ·Ğ°Ğ½ÑÑ‚Ğ¸Ğ¹ Ğ² Ğ²Ñ‹Ğ±Ñ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ.";
        renderEmptyState(message, { showReset: Boolean(searchQuery.length) });
    }

    updateInsights(entries);
}

function initializeControls() {
    const savedPreferences = loadPreferences();

    if (savedPreferences.classId && scheduleData[savedPreferences.classId]) {
        classSelect.value = savedPreferences.classId;
    }

    if (
        savedPreferences.day &&
        (savedPreferences.day === "all" || scheduleData[classSelect.value][savedPreferences.day])
    ) {
        state.selectedDay = savedPreferences.day;
    }

    if (state.selectedDay === "all") {
        const todayKey = getCurrentDayKey();
        if (todayKey && scheduleData[classSelect.value][todayKey]) {
            state.selectedDay = todayKey;
        }
    }

    const initialButton =
        dayButtons.find((button) => button.dataset.day === state.selectedDay) ||
        dayButtons.find((button) => button.dataset.day === "all");

    if (initialButton) {
        updateActiveChip(initialButton);
        state.selectedDay = initialButton.dataset.day;
    }

    renderSchedule();
    persistPreferences();

    dayButtons.forEach((button) => {
        button.addEventListener("click", () => {
            state.selectedDay = button.dataset.day;
            updateActiveChip(button);
            renderSchedule();
            persistPreferences();
        });
    });

    classSelect.addEventListener("change", () => {
        if (
            state.selectedDay !== "all" &&
            !Object.prototype.hasOwnProperty.call(scheduleData[classSelect.value], state.selectedDay)
        ) {
            const fallbackButton = dayButtons.find((button) => button.dataset.day === "all");
            if (fallbackButton) {
                state.selectedDay = fallbackButton.dataset.day;
                updateActiveChip(fallbackButton);
            }
        }

        renderSchedule();
        persistPreferences();
    });

    searchInput.addEventListener("input", () => {
        state.searchQuery = searchInput.value.trim();
        renderSchedule();
    });
}

initializeControls();
