import Head from "next/head"
import { motion, Variants } from "framer-motion"

import { Slide } from "../components/layout/Slide"
import { SlideNav } from "../components/layout/SlideNav"
import { AnimatedBackground, NoiseOverlay, ParticlesLayer } from "../components/ui/Background"
import { Card } from "../components/ui/Card"
import { CardHeading, CardText } from "../components/ui/Typography"

type SlideCard = {
  heading: string
  text: string
}

type SlideContent = {
  id: number
  caption: string
  title: string
  description: string
  cards: SlideCard[]
  tags?: string[]
  footer?: string
}

const slides: SlideContent[] = [
  {
    id: 1,
    caption: "Слайд 1 — титульний",
    title: "Польща — динамічна європейська історія",
    description:
      "Мобільний формат проводить через культуру, економіку та довкілля країни, що поєднує Балтію й Карпати.",
    tags: ["ЄС і НАТО", "Міст Центральної Європи"],
    cards: [
      {
        heading: "Столиця",
        text: "Варшава — місто на Віслі з хмарочосами, історією відродження і 1,86 млн жителів."
      },
      {
        heading: "Населення",
        text: "37,7 млн людей станом на 2024 рік формують поєднання молодих кластерів та традиційних регіонів."
      },
      {
        heading: "Символіка",
        text: "Біло-червоний прапор і білий орел у гербі наголошують на шляхетській спадщині та сучасній єдності."
      }
    ]
  },
  {
    id: 2,
    caption: "Слайд 2 — загальна інформація",
    title: "Основні контури держави",
    description:
      "Польща — унітарна парламентська республіка, член ЄС із 2004 року й Шенгенської зони з 2007-го.",
    tags: ["Площа 312,7 тис. км²", "Валюта — злотий"],
    cards: [
      {
        heading: "Населення",
        text: "37,7 млн мешканців із середньою густотою 123 особи на км² та урбанізацією близько 60%."
      },
      {
        heading: "ВВП",
        text: "$782 млрд (номінал, 2023) — шоста економіка ЄС зі зростанням без рецесій від 1992 року."
      },
      {
        heading: "Мова",
        text: "Офіційна польська поєднує стандартизований літературний варіант із кашубськими та силезькими діалектами."
      }
    ]
  },
  {
    id: 3,
    caption: "Слайд 3 — географія",
    title: "Географічне положення",
    description:
      "Країна розташована між Балтійським морем на півночі та Карпатами із Судетами на півдні, з'єднуючи Захід і Схід Європи.",
    tags: ["52° пн. ш.", "Балтійська дуга"],
    cards: [
      {
        heading: "Координати",
        text: "Близько 500 км зі сходу на захід і 650 км з півночі на південь — компактний простір для логістики."
      },
      {
        heading: "Кордони",
        text: "Польща ділить рубежі з Німеччиною, Чехією, Словаччиною, Україною, Білоруссю, Литвою та Калінінградом."
      },
      {
        heading: "Рельєф",
        text: "Центральноєвропейська рівнина переважає, але вершина Риси в Татрах сягає 2499 метрів."
      }
    ]
  },
  {
    id: 4,
    caption: "Слайд 4 — економіка",
    title: "Економічний профіль",
    description:
      "Польська економіка поєднує експортну орієнтацію та сильний внутрішній попит, утверджуючись на 6-й позиції в ЄС.",
    tags: ["Експорт 55% ВВП", "Зростання без рецесій"],
    cards: [
      {
        heading: "Ключові галузі",
        text: "Автомобілебудування, побутова техніка, агропереробка, фінтех та індустрія ігор."
      },
      {
        heading: "Партнери",
        text: "Німеччина, Чехія, Франція й Велика Британія забезпечують понад 60% польського експорту."
      },
      {
        heading: "Інновації",
        text: "Технопарки Варшави, Кракова та Вроцлава формують deep-tech, green-tech і космічні стартапи."
      }
    ]
  },
  {
    id: 5,
    caption: "Слайд 5 — природні умови",
    title: "Клімат та ландшафти",
    description:
      "Помірний клімат балансує впливи Атлантики й континентальні зими, формуючи виразні сезони.",
    tags: ["Ріка Вісла 1047 км", "Біосферні резервати ЮНЕСКО"],
    cards: [
      {
        heading: "Клімат",
        text: "Середні температури: +19 °C влітку та −2 °C узимку, опади коливаються між 500 й 1200 мм."
      },
      {
        heading: "Ландшафти",
        text: "Від дюн Словінського парку до торфовищ Біловезької пущі та гірських луків Татр."
      },
      {
        heading: "Вода",
        text: "Сотні озер Мазурії й Кашубії формують водні маршрути та м'який мікроклімат."
      }
    ]
  },
  {
    id: 6,
    caption: "Слайд 6 — природні ресурси",
    title: "Ресурсна база",
    description:
      "Корисні копалини підтримують металургію, енергетику й аграрний сектор, хоча імпорт газу зростає.",
    tags: ["70% електрики з вугілля", "KGHM — мідь і срібло"],
    cards: [
      {
        heading: "Вугілля",
        text: "Кам'яне та буре вугілля Верхньої Сілезії живить теплоелектростанції й експортується."
      },
      {
        heading: "Метали",
        text: "Родовища міді, срібла та цинку в Легниці й Полковіцах роблять Польщу одним із лідерів Європи."
      },
      {
        heading: "Мінерали",
        text: "Соляні куполи Велички, бурштин узбережжя та природний газ Передкарпаття доповнюють баланс."
      }
    ]
  },
  {
    id: 7,
    caption: "Слайд 7 — демографія",
    title: "Демографічний профіль",
    description:
      "Старіння населення врівноважується міграцією й високим рівнем урбанізації.",
    tags: ["Тривалість життя 78,6 року", "Урбанізація 60%"],
    cards: [
      {
        heading: "Міграція",
        text: "Понад мільйон працівників з України, Білорусі та Грузії підсилюють ринок праці."
      },
      {
        heading: "Агломерації",
        text: "Варшава, Тримісто, Краків і Вроцлав формують агломерації з населенням понад мільйон."
      },
      {
        heading: "Медіанний вік",
        text: "41,7 року; програми «500+» та «Сімейний капітал» стимулюють народжуваність."
      }
    ]
  },
  {
    id: 8,
    caption: "Слайд 8 — розселення",
    title: "Просторова структура",
    description:
      "Південна промислова дуга та столичний коридор Вісла-Одра мають найбільшу густоту населення.",
    tags: ["Сілезька конурбація", "Пояс Балтійських портів"],
    cards: [
      {
        heading: "Агломерації",
        text: "Сілезький мегаполіс об'єднує 41 гміну й понад 2 млн мешканців у мережі міст-близнюків."
      },
      {
        heading: "Транспорт",
        text: "Коридори A2, S3 та Via Carpathia формують нові осі урбанізації й логістики."
      },
      {
        heading: "Сільські території",
        text: "Підкарпаття та Люблінщина зберігають дрібноподвірні села з фермами до 10 гектарів."
      }
    ]
  },
  {
    id: 9,
    caption: "Слайд 9 — форма правління",
    title: "Політична система",
    description:
      "Польща має парламентську республіку з багатопартійністю та інститутом президента.",
    tags: ["Конституція 1997", "Плюралізм"],
    cards: [
      {
        heading: "Президент",
        text: "Обирається на п'ять років загальним голосуванням і представляє країну на міжнародній арені."
      },
      {
        heading: "Парламент",
        text: "Сейм (460 депутатів) і Сенат (100 сенаторів) ухвалюють закони й контролюють уряд."
      },
      {
        heading: "Уряд",
        text: "Прем'єр очолює Раду Міністрів, яку формує парламентська більшість."
      }
    ]
  },
  {
    id: 10,
    caption: "Слайд 10 — держ. устрій",
    title: "Адміністративна структура",
    description:
      "Унітарна держава із потужною децентралізацією розподіляє компетенції між воєводствами, повітами та гмінами.",
    tags: ["16 воєводств", "2477 гмін"],
    cards: [
      {
        heading: "Воєводства",
        text: "Маршалок і сеймик планують регіональні бюджети, транспорт та інноваційні програми."
      },
      {
        heading: "Повіти",
        text: "380 повітів відповідають за лікарні, дороги, профтехосвіту й протипожежну безпеку."
      },
      {
        heading: "Гміни",
        text: "Громади міст і сіл надають базові послуги: воду, житло, культуру та адміністративні сервіси."
      }
    ]
  },
  {
    id: 11,
    caption: "Слайд 11 — історія",
    title: "Історичні віхи",
    description:
      "Тисячолітня історія пройшла шлях від хрещення 966 року до демократичної трансформації 1989-го.",
    tags: ["966 — хрещення", "1989 — «Солідарність»"],
    cards: [
      {
        heading: "Середньовіччя",
        text: "Династія П'ястів об'єднала землі, перетворивши Краків на церковний і торговий центр."
      },
      {
        heading: "Річ Посполита",
        text: "Люблінська унія 1569 створила федерацію з Литвою та запровадила шляхетські свободи."
      },
      {
        heading: "Новітній час",
        text: "1980-ті: рух «Солідарність» і Круглий стіл відкрили шлях до демократичних реформ."
      }
    ]
  },
  {
    id: 12,
    caption: "Слайд 12 — первинний сектор",
    title: "Аграрний потенціал",
    description:
      "Первинний сектор забезпечує продовольчу незалежність і високоякісний експорт.",
    tags: ["8% зайнятих", "30% площ під лісами"],
    cards: [
      {
        heading: "Рослинництво",
        text: "Жито, пшениця, ріпак, яблука й лохина — основа аграрного експорту до ЄС."
      },
      {
        heading: "Тваринництво",
        text: "Молочні кластери Куявсько-Поморського та перше місце в ЄС за виробництвом м'яса птиці."
      },
      {
        heading: "Ліси",
        text: "Державні ліси займають 30% території; програми FSC захищають зубрів і чорних лелек."
      }
    ]
  },
  {
    id: 13,
    caption: "Слайд 13 — вторинний сектор",
    title: "Промислове ядро",
    description:
      "Промисловість генерує понад 30% ВВП і формує основу експорту.",
    tags: ["Katowice SEZ", "Висока додана вартість"],
    cards: [
      {
        heading: "Автомобілі",
        text: "Заводи Stellantis, MAN, Solaris і Volvo випускають авто, автобуси та комплектуючі."
      },
      {
        heading: "Електроніка",
        text: "LG, Samsung і локальні бренди виготовляють побутову техніку, батареї та LED-системи."
      },
      {
        heading: "Хімія",
        text: "Grupa Azoty, Synthos і Polpharma забезпечують добрива, пластики та фармпрепарати."
      }
    ]
  },
  {
    id: 14,
    caption: "Слайд 14 — третинний сектор",
    title: "Послуги та інновації",
    description:
      "Сектор послуг генерує 63% ВВП, об'єднуючи фінанси, туризм, освіту й медицину.",
    tags: ["63% ВВП", "E-commerce росте 12%"],
    cards: [
      {
        heading: "Фінанси",
        text: "Варшавська фондова біржа — найбільша у Центральній Європі за кількістю емісій."
      },
      {
        heading: "Туризм",
        text: "15 млн відвідувачів на рік відкривають Краків, Гданськ, Закопане та Балтійські курорти."
      },
      {
        heading: "Освіта",
        text: "Ягеллонський і Варшавський університети входять до QS Top 500 та приваблюють іноземців."
      }
    ]
  },
  {
    id: 15,
    caption: "Слайд 15 — ключові послуги",
    title: "Сучасні сервіси",
    description:
      "Польща є магнітом для міжнародних центрів обслуговування та цифрових компаній.",
    tags: ["400+ центрів BPO", "5G інфраструктура"],
    cards: [
      {
        heading: "ІТ та BPO",
        text: "Краків і Гданськ розміщують R&D-хаби Google, Microsoft, Sabre та Allegro."
      },
      {
        heading: "Логістика",
        text: "Лодзь і Познань розвивають інтермодальні вузли Нового Шовкового шляху."
      },
      {
        heading: "Медицина",
        text: "Мережі LUX MED та Enel-Med запускають телемедицину й профілактичні програми."
      }
    ],
    footer: "Сервісні кластери підтримуються стратегією «Польща 2030» та фондами ЄС."
  },
  {
    id: 16,
    caption: "Слайд 16 — цікаві факти",
    title: "Факти, що надихають",
    description:
      "Легкі штрихи демонструють характер країни та її культурну спадщину.",
    tags: ["ЮНЕСКО", "Смак пельменів"],
    cards: [
      {
        heading: "Біловезькі зубри",
        text: "У спільному з Білоруссю заповіднику живе єдина в Європі дика популяція бізонів."
      },
      {
        heading: "Шопен",
        text: "Міжнародний конкурс у Варшаві щороку збирає піаністів із понад 50 країн."
      },
      {
        heading: "Міські легенди",
        text: "Вулиці Вроцлава прикрашені 600+ карликами-скульптурами, що створюють туристичний маршрут."
      }
    ],
    footer: "Дякуємо за подорож Польщею! Скористайтесь навігацією, щоб повернутися до цікавих слайдів."
  }
]

const textVariants: Variants = {
  hidden: { opacity: 0, y: 16 },
  visible: { opacity: 1, y: 0, transition: { duration: 0.5, ease: 'easeOut' } }
}

const tagsVariants: Variants = {
  hidden: { opacity: 0, y: 12 },
  visible: { opacity: 1, y: 0, transition: { duration: 0.45, ease: 'easeOut', delay: 0.05 } }
}

const cardsVariants: Variants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: { delayChildren: 0.1, staggerChildren: 0.08, ease: 'easeOut' }
  }
}

const cardItemVariants: Variants = {
  hidden: { opacity: 0, y: 20 },
  visible: { opacity: 1, y: 0, transition: { duration: 0.5, ease: 'easeOut' } }
}

const footerVariants: Variants = {
  hidden: { opacity: 0, y: 12 },
  visible: { opacity: 1, y: 0, transition: { duration: 0.45, ease: 'easeOut', delay: 0.05 } }
}

export default function HomePage() {
  return (
    <>
      <Head>
        <title>Польща — вертикальна презентація</title>
        <meta
          name="description"
          content="16-слайдова презентація Польщі: географія, економіка, природа та сучасні тренди."
        />
      </Head>

      <AnimatedBackground />
      <ParticlesLayer />
      <NoiseOverlay />
      <SlideNav slides={slides} />

      <main className="relative z-20 snap-y snap-mandatory">
        {slides.map(slide => (
          <Slide
            key={slide.id}
            id={`slide-${slide.id}`}
            index={slide.id}
            caption={slide.caption}
            title={slide.title}
          >
            <motion.p className="text-sm text-[#cfd1e5] sm:text-base" variants={textVariants}>
              {slide.description}
            </motion.p>

            {slide.tags && (
              <motion.div className="flex flex-wrap gap-2" variants={tagsVariants}>
                {slide.tags.map(tag => (
                  <span
                    key={tag}
                    className="rounded-full border border-white/10 bg-white/5 px-3 py-1 text-[0.6rem] uppercase tracking-[0.3em] text-[#cfd1e5]"
                  >
                    {tag}
                  </span>
                ))}
              </motion.div>
            )}

            <motion.div className="grid gap-4 sm:grid-cols-2" variants={cardsVariants}>
              {slide.cards.map(card => (
                <motion.div key={card.heading} variants={cardItemVariants}>
                  <Card>
                    <CardHeading>{card.heading}</CardHeading>
                    <CardText>{card.text}</CardText>
                  </Card>
                </motion.div>
              ))}
            </motion.div>

            {slide.footer && (
              <motion.p
                className="text-[0.65rem] uppercase tracking-[0.3em] text-[#cfd1e5]"
                variants={footerVariants}
              >
                {slide.footer}
              </motion.p>
            )}
          </Slide>
        ))}
      </main>
    </>
  )
}
